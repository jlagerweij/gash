apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'oneJar'

group = 'net.lagerwey'
version = '1.3-SNAPSHOT'

ext {
    sourceCompatibility = JavaVersion.VERSION_1_6   /* define the valid syntax level for source files */
    targetCompatibility = JavaVersion.VERSION_1_6   /* define binary compatiblity version */
}

configurations.compile.transitive = true

// http://cloud.github.com/downloads/curious-attempt-bunny/gradle-onejar/gradle-onejar-0.1-SNAPSHOT.jar
buildscript {
    repositories {
        maven {
            url uri('lib')
        }
        add(new org.apache.ivy.plugins.resolver.URLResolver()) {
     			name = 'GitHub'
     			addArtifactPattern 'http://cloud.github.com/downloads/[organisation]/[module]/[module]-[revision].[ext]'
     		}
    }
//    dependencies {
//        classpath 'com.smokejumperit:gradle-plugins:0.8.3-SNAPSHOT'
//    }
}

buildscript {
	dependencies {
		classpath 'curious-attempt-bunny:gradle-onejar:0.1-SNAPSHOT'
	}
}
repositories {
    mavenRepo url: "lib"
    mavenRepo url: "http://repo.maven.apache.org/maven2"
}
dependencies {
    compile("com.gigaspaces:gs-openspaces:8.0.6") {
        exclude(module: 'openjpa-all')
    }
    compile "jline:jline:1.0"
}

task oneJar(type: OneJar) {
	mainClass = 'net.lagerwey.gash.Gash'
}
oneJar.dependsOn jar

artifacts {
    archives oneJar
}